---
show: step
version: 1.0
enable_checker: true
---

# vimé€‰é¡¹

## ä»å¤´å¼€å§‹

- è¿™æ¬¡æˆ‘ä»¬ä»å¤´å¼€å§‹
	- ä»è¿›å…¥vimä¹‹å‰å¼€å§‹
- æˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯é‡Œé¢ç»™`vim`æ€ä¹ˆæ ·çš„å‚æ•°å‘¢ï¼Ÿ
- `man vim`
	- è¿™ä¸ªå¦‚æœä¸è¡Œçš„è¯
	- è¦å…ˆè¿è¡Œ`unminimize`æ›´æ–°manual
- ä¹Ÿå¯ä»¥åœ¨vimä¸­è¿è¡Œå‘½ä»¤è¡Œ
	- `:h starting`
- æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬
	- é™¤äº†æŠŠ `oeasy.txt` ä½œä¸ºæ–‡ä»¶åå‚æ•°ç»™ `vim` ä¹‹å¤–
	- è¿˜å¯ä»¥ç»™ `vim` ä¸€äº›é€‰é¡¹å¼€å…³

### æ·»åŠ å‚æ•°è¿›è¡Œè·³è½¬

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210203-1612342407567)

- æˆ‘ä»¬é¦–å…ˆ`ls -lah > oeasy.txt`
- ç„¶å`vi +4 oeasy.txt`
	- å…‰æ ‡ä¼šå‡ºç°åœ¨ç¬¬`4`è¡Œ
	- æ¯”å¦‚æŸä½ç½®æœ‰ä¸ªå…³é”®å‚æ•°
	- å¯ä»¥è¿™æ ·ç›´æ¥è·³åˆ°é‚£ä¸€è¡Œ
	- æ‰§è¡Œä¹‹å
		- é€€å‡ºvimï¼Œå›åˆ°ç»ˆç«¯
- è¿è¡Œ`vi +/shiyanlou`
	- è¿›å…¥å
	- å…‰æ ‡åœ¨æœç´¢åˆ°çš„ç¬¬ä¸€ä¸ª`shiyanlou` 
	- æ‰§è¡Œä¹‹å
		- å›åˆ°ç»ˆç«¯
- å‘½ä»¤è¡Œå‚æ•°é™¤äº†èƒ½å¿«é€Ÿè·³è½¬
- è¿˜èƒ½å¹²ä»€ä¹ˆå‘¢ï¼Ÿ

### æ‰§è¡Œå‘½ä»¤
- è¿è¡Œå‘½ä»¤
	- `vi +%s/shiyanlou/oeasy/g oeasy.txt`
		- å…ˆç”¨`vim`æ‰“å¼€æ–‡ä»¶`oeasy.txt`
		- å†è¿è¡Œå‘½ä»¤`:%s/shiyanlou/oeasy/g`
		- è¿™ç”¨çš„æ˜¯ +{command} çš„å½¢å¼
		- `%s/shiyanlou/oeasy/g` å°±æ˜¯ `+` çš„ `{command}`
	- `vi +%s/shiyanlou/oeasy/g +%s/4.0K/o2z/g oeasy.txt`
		- å…ˆç”¨`vim`æ‰“å¼€æ–‡ä»¶`oeasy.txt`
		- å†è¿è¡Œå‘½ä»¤`:%s/shiyanlou/oeasy/g`
		- å†è¿è¡Œå‘½ä»¤`:%s/4.0K/o2z/g`
		- è¿™æ ·å°±å¯ä»¥æ‰§è¡Œä¸¤æ¡å‘½ä»¤
- ä¹Ÿå¯ä»¥è¿è¡Œå‘½ä»¤ã€€`-c`
	- `vi -c %s/shiyanlou/oeasy/g oeasy.txt`
	- ç›¸å½“äº`vi +%s/shiyanlou/oeasy/g oeasy.txt`
	- è¿™ç”¨çš„æ˜¯ -c {command}çš„å½¢å¼
- åŠ¨æ‰‹è¯•è¯•

### ç®¡é“ä¼ å…¥
- `vi -`å¯ä»¥æ¥å—åˆ°`stdin`ä¼ è¿‡æ¥çš„æ•°æ®
	- æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç®¡é“`|`
	- `ls -lah | vi -`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211108-1636329991974)

### ex-mode

- `vi -e oeasy.txt`å¯ä»¥ç”¨`ex`æ¨¡å¼æ‰“å¼€`oeasy.txt`
	- ä¹Ÿå¯ç›´æ¥`ex oeasy.txt`
- è¿›å…¥ex-modeä¹‹åï¼Œå¯ä»¥æ‰§è¡Œå‘½ä»¤è¡Œ,ä¸ç”¨å†æ‰“å†’å·
	- `:1`
	- `:%p`
	- `:2,9d`
	- `:1,$`
	- `:q`é€€å‡º

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211108-1636330137333)

- å¯ä»¥é€€å›åˆ°æ­£å¸¸æ¨¡å¼
	- `:visual`
- è¿˜å¯ä»¥åˆ‡æ¢å‡ºex-modeå­çª—å£
	- `Q`

### åªè¯»æ¨¡å¼
- å¯ä»¥ä½¿ç”¨`vi -R oeasy.txt`
- ä¹Ÿå°±æ˜¯`view oeasy.txt`
- åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œåªèƒ½æŸ¥çœ‹ä¸èƒ½ä¿®æ”¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210710-1625918181747)

- ä½†æ˜¯å¦‚æœä½ å¼ºåˆ¶å†™`:w!`
	- è¿˜æ˜¯å¯ä»¥å†™è¿›å»çš„
- å¦‚æœä½ æƒ³è¦å½»åº•ä¸èƒ½å†™
	- æ— è®ºæ˜¯å¦åŠ å¹å·éƒ½ä¸èƒ½å†™
	- åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ

### æƒ³è¦å½»åº•ä¸èƒ½å†™çš„è¯

- é‚£ä½ éœ€è¦ä½¿ç”¨`vi -M oeasy.txt`
	- è¿™æ ·ä½ æƒ³è¦åšä»»ä½•å†™çš„æ“ä½œ
	- éƒ½æ— æ³•è¿›è¡Œä¿®æ”¹
	- åŸå› æ˜¯E21

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210710-1625920312707)

### è®¾ç½®å¯ç¼–è¾‘

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211108-1636330451477)

- `:set modifiable`
	- è®¾ç½®å½“å‰æ–‡æ¡£å¯ä»¥ä¿®æ”¹
	- ç„¶åå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹
	- ä½†æ˜¯å¦‚æœæƒ³è¦`:w`è¿˜æ˜¯ä¸è¡Œ
	- `:h E142`

### è®¾ç½®å¯å†™

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210710-1625920430355)

- `:set write`
	- æŠŠè¿™ä¸ªå¼€å…³è®¾ç½®å¥½ä¹‹å
	- å°±å¯ä»¥é¡ºåˆ©`w`äº†
	- åªè¦ä½ æœ‰sudoçš„æƒé™
	- ä¸€åˆ‡å¼€å…³ä½ éƒ½å¯ä»¥æ‰“å¼€
- é€è¿‡å„ç§è“å¸ƒæ£‰é—¨å¸˜
	- å°±å¯ä»¥æ§åˆ¶èµ·æ•´ä¸ªé¢é“ºğŸ˜‹

### å¸¸ç”¨mode

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210705-1625454789993)

- ex å¯ä»¥å¯¹åº”è¿™vim -e 
- view å¯ä»¥å¯¹åº”ç€vim -R
- vimdiff å¯ä»¥å¯¹åº”ç€ vim -d

## æ€»ç»“
- `vi`å¯ä»¥åŠ å„ç§é€‰é¡¹
	- `vi +4 oeasy.txt`
	- `vi +/shiyanlou`
	- `vi +%s/shiyanlou/oeasy/g oeasy.txt`
- `vi`å¯ä»¥æ¥æ”¶`stdin`çš„å‚æ•°
	- `ls -lah | vi -`
- `vi`è¿˜æœ‰å„ç§æ¨¡å¼
	- å‘½ä»¤è¡Œæ¨¡å¼`ex oeasy.txt`æˆ–è€…`vi -e oeasy.txt`
	- åªè¯»æ¨¡å¼`vi -R oeasy.txt`æˆ–è€…`view oeasy.txt`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210203-1612344137448)

- å¦‚æœåŠ ä¸€ä¸ª `-r` çš„å‚æ•°å¯ä»¥ä¹ˆ
- å¸®åŠ©æ‰‹å†Œè¯´ä»€ä¹ˆ`swap`æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹






